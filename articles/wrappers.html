<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Wrapper Functions of Common Statistical Methods in TrialSimulator • TrialSimulator</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Wrapper Functions of Common Statistical Methods in TrialSimulator">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TrialSimulator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.92.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/adaptiveDesign.html">An Example of Simulating a Trial with Adaptive Design</a></li>
    <li><a class="dropdown-item" href="../articles/conditionSystem.html">Condition System for Triggering Milestones in a Trial</a></li>
    <li><a class="dropdown-item" href="../articles/defineArms.html">Define and Summarize Arms in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/defineLongitudinalEndpoints.html">Define Longitudinal Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/defineNonTimeToEventEndpoints.html">Define Non-Time-to-Event Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/defineTimeToEventEndpoints.html">Define Time-to-Event Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/fixedDesign.html">An Example of Fixed Design with Two Correlated Endpoints</a></li>
    <li><a class="dropdown-item" href="../articles/simulatePfsAndOs.html">Simulate Correlated Progression-Free Survival and Overall Survival as Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/wrappers.html">Wrapper Functions of Common Statistical Methods in TrialSimulator</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/zhangh12/TrialSimulator/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Wrapper Functions of Common Statistical Methods in TrialSimulator</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/zhangh12/TrialSimulator/blob/main/vignettes/wrappers.Rmd" class="external-link"><code>vignettes/wrappers.Rmd</code></a></small>
      <div class="d-none name"><code>wrappers.Rmd</code></div>
    </div>

    
    
<p><code>TrialSimulator</code> provides a set of wrapper functions of
common statistical methods used in clinical trial simulations. If more
than one active arm exist, the wrapper functions perform pairwise
analysis to compare each of the active arms with reference (placebo,
control, standard-of-care, etc.). The interface and output are similar
across wrapper functions. The statistical model can be specified by R
formula, where covariate adjustment is supported in some of the
functions. The wrapper functions call the package <code>emmeans</code>
in pairwise comparison when estimating average treatment effects (ATE).
One-sided tests are enforced. Ellipsis argument <code>...</code> is
supported for subset analysis, which is particularly useful in
enrichment design.</p>
<p>The wrapper functions covered in this vignette are summarized in the
table below.</p>
<table style="width:98%;" class="table">
<colgroup>
<col width="24%">
<col width="25%">
<col width="24%">
<col width="24%">
</colgroup>
<thead><tr class="header">
<th align="left">Function</th>
<th align="left">Method</th>
<th align="left">Statistics in Outputs</th>
<th align="left">Covariate adjustment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>fitLinear</code></td>
<td align="left">Linear model</td>
<td align="left">ATE</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left"><code>fitLogistic</code></td>
<td align="left">Logistic model</td>
<td align="left">
<p>regression coefficient</p>
<p>log odds ratio</p>
<p>odds ratio</p>
<p>risk ratio</p>
<p>risk difference</p>
</td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left"><code>fitCoxph</code></td>
<td align="left">Cox PH model</td>
<td align="left">
<p>log hazard ratio</p>
<p>hazard ratio</p>
</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left"><code>fitLogrank</code></td>
<td align="left">logrank test</td>
<td align="left"></td>
<td align="left">No but supports strata</td>
</tr>
<tr class="odd">
<td align="left"><code>fitFarringtonManning</code></td>
<td align="left">Farrington-Manning test</td>
<td align="left"></td>
<td align="left">No</td>
</tr>
</tbody>
</table>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>To illustrate the wrapper functions, we simulate a hypothetical
trials with a covariate and endpoints of various of types. A biomarker
is also simulated to define sub-groups. The placebo arm is defined as
follows.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## time-to-event endpoint</span></span>
<span><span class="va">pfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/endpoint.html">endpoint</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'pfs'</span>, type <span class="op">=</span> <span class="st">'tte'</span>, generator <span class="op">=</span> <span class="va">rexp</span>, rate <span class="op">=</span> <span class="fl">.07</span><span class="op">)</span></span>
<span><span class="co">## continuous endpoint</span></span>
<span><span class="va">cep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/endpoint.html">endpoint</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'cep'</span>, type <span class="op">=</span> <span class="st">'non-tte'</span>, </span>
<span>                readout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>cep <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, generator <span class="op">=</span> <span class="va">rnorm</span><span class="op">)</span></span>
<span><span class="co">## binary endpoint</span></span>
<span><span class="va">bep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/endpoint.html">endpoint</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'bep'</span>, type <span class="op">=</span> <span class="st">'non-tte'</span>, </span>
<span>                readout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>bep <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, generator <span class="op">=</span> <span class="va">rbinom</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">.1</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## biomarker</span></span>
<span><span class="va">bm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/endpoint.html">endpoint</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'biomarker'</span>, type <span class="op">=</span> <span class="st">'non-tte'</span>, </span>
<span>               readout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>biomarker <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, generator <span class="op">=</span> <span class="va">rbinom</span>, </span>
<span>               size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## covariate</span></span>
<span><span class="va">covar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/endpoint.html">endpoint</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'x'</span>, type <span class="op">=</span> <span class="st">'non-tte'</span>, </span>
<span>                  readout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, generator <span class="op">=</span> <span class="va">rnorm</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pbo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/arm.html">arm</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'pbo'</span><span class="op">)</span></span>
<span><span class="va">pbo</span><span class="op">$</span><span class="fu">add_endpoints</span><span class="op">(</span><span class="va">pfs</span>, <span class="va">cep</span>, <span class="va">bep</span>, <span class="va">bm</span>, <span class="va">covar</span><span class="op">)</span></span></code></pre></div>
<p>To make this vignette short, we hide codes that define the two active
arms of <code>low</code> or <code>high</code> dose, trial. We only
define one milestone for final analysis with an empty action function
<code>doNothing</code>, this is because we are going to request for
locked data outside of action function when illustrating the wrapper
functions. Note that full codes are available in the source code of this
vignette.</p>
<pre><code><span><span class="co">#&gt; A milestone &lt;final&gt; is registered.</span></span></code></pre>
<p>Now we execute a trial. Trial data is now available in the object
<code>trial</code>, and can be accessed by calling the member function
<code>get_locked_data()</code> with milestone name
<code>final</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">controller</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, plot_event <span class="op">=</span> <span class="cn">FALSE</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">locked_data</span> <span class="op">&lt;-</span> <span class="va">trial</span><span class="op">$</span><span class="fu">get_locked_data</span><span class="op">(</span><span class="st">'final'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">locked_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   patient_id  arm enroll_time dropout_time       pfs pfs_event         cep</span></span>
<span><span class="co">#&gt; 1          1  pbo  0.00000000   322.817715  6.819525         1 -0.21028508</span></span>
<span><span class="co">#&gt; 2          2 high  0.03333333   408.104162 98.520770         1 -0.08806648</span></span>
<span><span class="co">#&gt; 3          3  low  0.06666667    45.651176 21.215875         1  2.12517509</span></span>
<span><span class="co">#&gt; 4          4  low  0.10000000   103.734510 27.046261         1  1.53260487</span></span>
<span><span class="co">#&gt; 5          5  pbo  0.13333333     8.685884  4.776078         1  0.71222847</span></span>
<span><span class="co">#&gt; 6          6 high  0.16666667    12.309588 12.142921         0  1.80510702</span></span>
<span><span class="co">#&gt;   cep_readout bep bep_readout biomarker biomarker_readout             x</span></span>
<span><span class="co">#&gt; 1           0   0           0         0                 0 -0.6829126592</span></span>
<span><span class="co">#&gt; 2           0   0           0         1                 0  2.2913063006</span></span>
<span><span class="co">#&gt; 3           0   1           0         1                 0  0.0001582446</span></span>
<span><span class="co">#&gt; 4           0   0           0         0                 0 -0.1193032317</span></span>
<span><span class="co">#&gt; 5           0   0           0         1                 0  1.5541601999</span></span>
<span><span class="co">#&gt; 6           0   1           0         1                 0  0.1176311038</span></span>
<span><span class="co">#&gt;   x_readout</span></span>
<span><span class="co">#&gt; 1         0</span></span>
<span><span class="co">#&gt; 2         0</span></span>
<span><span class="co">#&gt; 3         0</span></span>
<span><span class="co">#&gt; 4         0</span></span>
<span><span class="co">#&gt; 5         0</span></span>
<span><span class="co">#&gt; 6         0</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">locked_data</span><span class="op">$</span><span class="va">arm</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; high  low  pbo </span></span>
<span><span class="co">#&gt;  100  100  100</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analyze-time-to-event-endpoint">Analyze Time-to-Event Endpoint<a class="anchor" aria-label="anchor" href="#analyze-time-to-event-endpoint"></a>
</h2>
<p>We analyze <code>pfs</code> by fitting Cox proportional hazard model
and logrank test</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## adjust for covariate x</span></span>
<span><span class="fu"><a href="../reference/fitCoxph.html">fitCoxph</a></span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">pfs</span>, <span class="va">pfs_event</span><span class="op">)</span> <span class="op">~</span> <span class="va">arm</span> <span class="op">+</span> <span class="va">x</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>         data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'less'</span>, </span>
<span>         scale <span class="op">=</span> <span class="st">'hazard ratio'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo  estimate            p info         z</span></span>
<span><span class="co">#&gt; 1 high     pbo 0.4230036 1.132141e-07  167 -5.176219</span></span>
<span><span class="co">#&gt; 2  low     pbo 0.7173588 1.579359e-02  173 -2.149596</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fitLogrank.html">fitLogrank</a></span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">pfs</span>, <span class="va">pfs_event</span><span class="op">)</span> <span class="op">~</span> <span class="va">arm</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>           data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'less'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo            p info         z</span></span>
<span><span class="co">#&gt; 1 high     pbo 6.958309e-08  167 -5.266346</span></span>
<span><span class="co">#&gt; 2  low     pbo 1.673615e-02  173 -2.126372</span></span>
<span></span>
<span><span class="co">## more details</span></span>
<span><span class="fu"><a href="../reference/fitLogrank.html">fitLogrank</a></span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">pfs</span>, <span class="va">pfs_event</span><span class="op">)</span> <span class="op">~</span> <span class="va">arm</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>           data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'less'</span>, tidy <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo            p info         z info_pbo info_trt n_pbo n_trt</span></span>
<span><span class="co">#&gt; 1 high     pbo 6.958309e-08  167 -5.266346       85       82   100   100</span></span>
<span><span class="co">#&gt; 2  low     pbo 1.673615e-02  173 -2.126372       85       88   100   100</span></span>
<span></span>
<span><span class="co">## with strata</span></span>
<span><span class="fu"><a href="../reference/fitLogrank.html">fitLogrank</a></span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">pfs</span>, <span class="va">pfs_event</span><span class="op">)</span> <span class="op">~</span> <span class="va">arm</span> <span class="op">+</span> <span class="fu">strata</span><span class="op">(</span><span class="va">biomarker</span><span class="op">)</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>           data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'less'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo            p info         z</span></span>
<span><span class="co">#&gt; 1 high     pbo 1.789899e-07  167 -5.090044</span></span>
<span><span class="co">#&gt; 2  low     pbo 1.407320e-02  173 -2.195240</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analyze-continuous-endpoint">Analyze Continuous Endpoint<a class="anchor" aria-label="anchor" href="#analyze-continuous-endpoint"></a>
</h2>
<p>We fit linear regression model for <code>cep</code>, the continuous
endpoint</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## ATE accounting for covariate x</span></span>
<span><span class="fu"><a href="../reference/fitLinear.html">fitLinear</a></span><span class="op">(</span><span class="va">cep</span> <span class="op">~</span> <span class="va">arm</span> <span class="op">*</span> <span class="va">x</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>          data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'greater'</span><span class="op">)</span></span>
<span><span class="co">#&gt; NOTE: Results may be misleading due to involvement in interactions</span></span>
<span><span class="co">#&gt; NOTE: Results may be misleading due to involvement in interactions</span></span>
<span><span class="co">#&gt;    arm placebo estimate            p info        z</span></span>
<span><span class="co">#&gt; 1 high     pbo 1.146575 2.442491e-14  194 8.146895</span></span>
<span><span class="co">#&gt; 2  low     pbo 1.259813 0.000000e+00  194 9.347944</span></span>
<span></span>
<span><span class="co">## marginal model</span></span>
<span><span class="fu"><a href="../reference/fitLinear.html">fitLinear</a></span><span class="op">(</span><span class="va">cep</span> <span class="op">~</span> <span class="va">arm</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>          data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'greater'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo estimate            p info        z</span></span>
<span><span class="co">#&gt; 1 high     pbo 1.145586 1.754152e-14  194 8.193172</span></span>
<span><span class="co">#&gt; 2  low     pbo 1.247526 0.000000e+00  194 9.315158</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analyze-binary-endpoint">Analyze Binary Endpoint<a class="anchor" aria-label="anchor" href="#analyze-binary-endpoint"></a>
</h2>
<p>We fit different logistic regression models for the binary endpoint
<code>bep</code>, and compute different types of statistics.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## compute regression coefficient of arm</span></span>
<span><span class="fu"><a href="../reference/fitLogistic.html">fitLogistic</a></span><span class="op">(</span><span class="va">bep</span> <span class="op">~</span> <span class="va">arm</span> <span class="op">*</span> <span class="va">x</span> <span class="op">+</span> <span class="va">biomarker</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>            data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'greater'</span>, </span>
<span>            scale <span class="op">=</span> <span class="st">'coefficient'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo  estimate            p info        z</span></span>
<span><span class="co">#&gt; 1 high     pbo 1.6681497 2.789223e-05  194 4.029968</span></span>
<span><span class="co">#&gt; 2  low     pbo 0.5481628 1.118414e-01  194 1.216794</span></span>
<span></span>
<span><span class="co">## compute odds ratio (ATE)</span></span>
<span><span class="fu"><a href="../reference/fitLogistic.html">fitLogistic</a></span><span class="op">(</span><span class="va">bep</span> <span class="op">~</span> <span class="va">arm</span> <span class="op">+</span> <span class="va">x</span><span class="op">*</span><span class="va">biomarker</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>            data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'greater'</span>, </span>
<span>            scale <span class="op">=</span> <span class="st">'odds ratio'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo estimate            p info        z</span></span>
<span><span class="co">#&gt; 1 high     pbo 4.762725 2.463267e-05  194 4.059085</span></span>
<span><span class="co">#&gt; 2  low     pbo 1.574359 1.429428e-01  194 1.067191</span></span>
<span></span>
<span><span class="co">## compute risk ratio (ATE)</span></span>
<span><span class="fu"><a href="../reference/fitLogistic.html">fitLogistic</a></span><span class="op">(</span><span class="va">bep</span> <span class="op">~</span> <span class="va">arm</span> <span class="op">+</span> <span class="va">x</span> <span class="op">+</span> <span class="va">biomarker</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>            data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'greater'</span>, </span>
<span>            scale <span class="op">=</span> <span class="st">'risk ratio'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo estimate            p info        z</span></span>
<span><span class="co">#&gt; 1 high     pbo 3.384617 6.180414e-05  194 3.838857</span></span>
<span><span class="co">#&gt; 2  low     pbo 1.485317 1.428753e-01  194 1.067490</span></span></code></pre></div>
<p>The risk difference can be tested by logistic regression and the
Farrington-Manning test. However, the Farrington-Manning test cannot
account for covariates.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## compute risk difference (ATE)</span></span>
<span><span class="fu"><a href="../reference/fitLogistic.html">fitLogistic</a></span><span class="op">(</span><span class="va">bep</span> <span class="op">~</span> <span class="va">arm</span> <span class="op">+</span> <span class="va">x</span> <span class="op">*</span> <span class="va">biomarker</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>            data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'greater'</span>, </span>
<span>            scale <span class="op">=</span> <span class="st">'risk difference'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo  estimate            p info        z</span></span>
<span><span class="co">#&gt; 1 high     pbo 0.2559720 7.090997e-06  194 4.341024</span></span>
<span><span class="co">#&gt; 2  low     pbo 0.0519049 1.405975e-01  194 1.077639</span></span>
<span></span>
<span><span class="co">## compute risk difference without covariate</span></span>
<span><span class="fu"><a href="../reference/fitLogistic.html">fitLogistic</a></span><span class="op">(</span><span class="va">bep</span> <span class="op">~</span> <span class="va">arm</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>            data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'greater'</span>, </span>
<span>            scale <span class="op">=</span> <span class="st">'risk difference'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo   estimate            p info         z</span></span>
<span><span class="co">#&gt; 1 high     pbo 0.26296769 3.839441e-06  194 4.4739469</span></span>
<span><span class="co">#&gt; 2  low     pbo 0.04868197 1.627120e-01  194 0.9833727</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fitFarringtonManning.html">fitFarringtonManning</a></span><span class="op">(</span>endpoint <span class="op">=</span> <span class="st">'bep'</span>, placebo <span class="op">=</span> <span class="st">'pbo'</span>, </span>
<span>                     data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'greater'</span><span class="op">)</span></span>
<span><span class="co">#&gt;    arm placebo            p info         z</span></span>
<span><span class="co">#&gt; 1 high     pbo 1.098834e-05  194 4.2437995</span></span>
<span><span class="co">#&gt; 2  low     pbo 1.636815e-01  194 0.9794394</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Han Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
