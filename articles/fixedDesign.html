<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>An Example of Fixed Design with Two Correlated Endpoints • TrialSimulator</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="An Example of Fixed Design with Two Correlated Endpoints">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TrialSimulator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.95.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/actionFunctions.html">Specify Actions to Execute at Trial Milestones</a></li>
    <li><a class="dropdown-item" href="../articles/adaptiveDesign.html">An Example of Simulating a Trial with Adaptive Design</a></li>
    <li><a class="dropdown-item" href="../articles/conditionSystem.html">Condition System for Triggering Milestones in a Trial</a></li>
    <li><a class="dropdown-item" href="../articles/defineArms.html">Define and Summarize Arms in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/defineLongitudinalEndpoints.html">Define Longitudinal Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/defineNonTimeToEventEndpoints.html">Define Non-Time-to-Event Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/defineTimeToEventEndpoints.html">Define Time-to-Event Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/fixedDesign.html">An Example of Fixed Design with Two Correlated Endpoints</a></li>
    <li><a class="dropdown-item" href="../articles/responseAdaptive.html">Designs with Response-Adaptive Randomization</a></li>
    <li><a class="dropdown-item" href="../articles/simulatePfsAndOs.html">Simulate Correlated Progression-Free Survival and Overall Survival as Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/wrappers.html">Wrapper Functions of Common Statistical Methods in TrialSimulator</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/zhangh12/TrialSimulator/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="fixedDesign_files/kePrint-0.0.1/kePrint.js"></script><link href="fixedDesign_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>An Example of Fixed Design with Two Correlated Endpoints</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/zhangh12/TrialSimulator/blob/v0.95.0/vignettes/fixedDesign.Rmd" class="external-link"><code>vignettes/fixedDesign.Rmd</code></a></small>
      <div class="d-none name"><code>fixedDesign.Rmd</code></div>
    </div>

    
    
<p>In this vignette, we illustrate how to use
<code>TrialSimulator</code> to simulate a trial of two correlated
endpoints. Under a fixed design, only one milestone is specified for
final analysis.</p>
<div class="section level2">
<h2 id="simulation-settings">Simulation Settings<a class="anchor" aria-label="anchor" href="#simulation-settings"></a>
</h2>
<ul>
<li><p>Trial consists of two active arms of high and low dose, and a
standard-of-care arm.</p></li>
<li><p>Patients are randomized into the trial with ratio
<code>1:1:1</code>.</p></li>
<li><p>30 patients are randomized per month for the first 10 months, and
50 patients per month after then until 1000 patients.</p></li>
<li><p>Dropout rate is 10% at month 18, which is modeled by an
exponential distribution, with rate parameter
<code>-log(1 - 0.1)/18</code>.</p></li>
<li>
<p>Modeled by a three-state ill-death model, two endpoints
<code>PFS</code> and <code>OS</code> are simulated.</p>
<ul>
<li>Primary endpoint <code>OS</code> has a medians of 15, 18.5, 20
months in standard-of-care, low dose and high dose arms,
respectively.</li>
<li>Key secondary endpoint <code>PFS</code> has a median of 7, 9, 10
months in the three arms.</li>
<li>Pearson’s correlation between <code>OS</code> and <code>PFS</code>
are 0.68, 0.65, and 0.60 in the three arms.</li>
</ul>
</li>
<li>
<p>To ensures sufficient powers for both endpoints, final analysis
is set when we have at least a total of 800 <code>PFS</code> events in
the standard-of-care and high dose arm, meanwhile a total of 550
<code>OS</code> events are observed in three arms</p>
<ul>
<li>
<code>OS</code> is tested using one-sided logrank test.</li>
<li>
<code>PFS</code> is tested using one-sided p-value from the Cox
proportional hazard model as the PH assumption is assumed.</li>
<li>The Bonferroni correction is adopted to split overall
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>5</mn><mi>%</mi></mrow><annotation encoding="application/x-tex">\alpha = 5\%</annotation></semantics></math>,
i.e., claiming significant effect for an endpoint when p-value is lower
than
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.05</mn><mi>/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">0.05/4</annotation></semantics></math>.</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="transition-hazards-of-pfs-and-os">Transition Hazards of <code>PFS</code> and <code>OS</code><a class="anchor" aria-label="anchor" href="#transition-hazards-of-pfs-and-os"></a>
</h2>
<p>We adopt the ill-death model to simulate the two endpoints. This
ensures <code>PFS</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>≤</mo><annotation encoding="application/x-tex">\leq</annotation></semantics></math><code>OS</code> with probability one, and makes no assumption on latent
variables or copula parameters. <code>TrialSimulator</code> offers a
function <code><a href="../reference/solveThreeStateModel.html">solveThreeStateModel()</a></code> to convert endpoints’
medians and correlation to the transition hazards, which are required by
the built-in generator <code><a href="../reference/CorrelatedPfsAndOs3.html">CorrelatedPfsAndOs3()</a></code>. Refer to the
vignette <a href="simulatePfsAndOs.html">Simulate Correlated
Progression-Free Survival and Overall Survival as Endpoints in Clinical
Trials</a> for more details.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pars_soc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/solveThreeStateModel.html">solveThreeStateModel</a></span><span class="op">(</span>median_pfs <span class="op">=</span> <span class="fl">7</span>, median_os <span class="op">=</span> <span class="fl">15</span>, corr <span class="op">=</span> <span class="fl">.68</span>, </span>
<span>                                 h12 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.07</span>, <span class="fl">.10</span>, length.out <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pars_soc</span></span>
<span><span class="co">#&gt;   corr        h01       h02        h12        error</span></span>
<span><span class="co">#&gt; 1 0.68 0.07498342 0.0240376 0.08959184 0.0001363832</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pars_low</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/solveThreeStateModel.html">solveThreeStateModel</a></span><span class="op">(</span>median_pfs <span class="op">=</span> <span class="fl">9</span>, median_os <span class="op">=</span> <span class="fl">18.5</span>, corr <span class="op">=</span> <span class="fl">.65</span>, </span>
<span>                                 h12 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.04</span>, <span class="fl">.07</span>, length.out <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pars_low</span></span>
<span><span class="co">#&gt;   corr        h01        h02        h12       error</span></span>
<span><span class="co">#&gt; 1 0.65 0.05059501 0.02642134 0.06204082 0.001646964</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pars_high</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/solveThreeStateModel.html">solveThreeStateModel</a></span><span class="op">(</span>median_pfs <span class="op">=</span> <span class="fl">10</span>, median_os <span class="op">=</span> <span class="fl">20</span>, corr <span class="op">=</span> <span class="fl">.60</span>, </span>
<span>                                  h12 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.02</span>, <span class="fl">.06</span>, length.out <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pars_high</span></span>
<span><span class="co">#&gt;   corr        h01        h02        h12      error</span></span>
<span><span class="co">#&gt; 1  0.6 0.03964373 0.02967099 0.04693878 0.00208503</span></span></code></pre></div>
<table class="table">
<caption>
Transition hazards in three treatment arms
</caption>
<thead><tr>
<th style="text-align:left;">
arm
</th>
<th style="text-align:right;">
h01
</th>
<th style="text-align:right;">
h02
</th>
<th style="text-align:right;">
h12
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
soc
</td>
<td style="text-align:right;">
0.075
</td>
<td style="text-align:right;">
0.024
</td>
<td style="text-align:right;">
0.090
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:right;">
0.051
</td>
<td style="text-align:right;">
0.026
</td>
<td style="text-align:right;">
0.062
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:right;">
0.040
</td>
<td style="text-align:right;">
0.030
</td>
<td style="text-align:right;">
0.047
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="define-treatment-arms">Define Treatment Arms<a class="anchor" aria-label="anchor" href="#define-treatment-arms"></a>
</h2>
<p>We use generator <code><a href="../reference/CorrelatedPfsAndOs3.html">CorrelatedPfsAndOs3()</a></code> with
<code><a href="../reference/endpoint.html">endpoint()</a></code> and <code><a href="../reference/arm.html">arm()</a></code> to define the three
treatment arms.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' define SoC</span></span>
<span><span class="va">pfs_os_in_soc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/endpoint.html">endpoint</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'pfs'</span>, <span class="st">'os'</span><span class="op">)</span>, </span>
<span>                          type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'tte'</span>, <span class="st">'tte'</span><span class="op">)</span>, </span>
<span>                          generator <span class="op">=</span> <span class="va">CorrelatedPfsAndOs3</span>, </span>
<span>                          h01 <span class="op">=</span> <span class="fl">0.075</span>, h02 <span class="op">=</span> <span class="fl">0.024</span>, h12 <span class="op">=</span> <span class="fl">0.090</span><span class="op">)</span></span>
<span></span>
<span><span class="va">soc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/arm.html">arm</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'soc'</span><span class="op">)</span></span>
<span><span class="va">soc</span><span class="op">$</span><span class="fu">add_endpoints</span><span class="op">(</span><span class="va">pfs_os_in_soc</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' define low dose arm</span></span>
<span><span class="va">pfs_os_in_low</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/endpoint.html">endpoint</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'pfs'</span>, <span class="st">'os'</span><span class="op">)</span>, </span>
<span>                          type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'tte'</span>, <span class="st">'tte'</span><span class="op">)</span>, </span>
<span>                          generator <span class="op">=</span> <span class="va">CorrelatedPfsAndOs3</span>, </span>
<span>                          h01 <span class="op">=</span> <span class="fl">0.051</span>, h02 <span class="op">=</span> <span class="fl">0.026</span>, h12 <span class="op">=</span> <span class="fl">0.062</span><span class="op">)</span></span>
<span></span>
<span><span class="va">low</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/arm.html">arm</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'low'</span><span class="op">)</span></span>
<span><span class="va">low</span><span class="op">$</span><span class="fu">add_endpoints</span><span class="op">(</span><span class="va">pfs_os_in_low</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' define high dose arm</span></span>
<span><span class="va">pfs_os_in_high</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/endpoint.html">endpoint</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'pfs'</span>, <span class="st">'os'</span><span class="op">)</span>, </span>
<span>                           type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'tte'</span>, <span class="st">'tte'</span><span class="op">)</span>, </span>
<span>                           generator <span class="op">=</span> <span class="va">CorrelatedPfsAndOs3</span>, </span>
<span>                          h01 <span class="op">=</span> <span class="fl">0.040</span>, h02 <span class="op">=</span> <span class="fl">0.030</span>, h12 <span class="op">=</span> <span class="fl">0.047</span><span class="op">)</span></span>
<span></span>
<span><span class="va">high</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/arm.html">arm</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'high'</span><span class="op">)</span></span>
<span><span class="va">high</span><span class="op">$</span><span class="fu">add_endpoints</span><span class="op">(</span><span class="va">pfs_os_in_high</span><span class="op">)</span></span></code></pre></div>
<p>We can request for a summary report of, e.g., the high dose arm, by
printing the arm object in R console. The medians of <code>PFS</code>
and <code>OS</code> matches to the settings very well.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">high</span></span></code></pre></div>
<iframe src="data:text/html;charset=utf-8;base64,CjwhRE9DVFlQRSBodG1sPgo8aHRtbD4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+QXJtIE5hbWU6IGhpZ2g8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIGJvZHkgewogICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIG1hcmdpbjogMjBweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQogICAgICAgIGgxIHsKICAgICAgICAgICAgY29sb3I6IGJsYWNrOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgICB9CiAgICAgICAgLnN1YnRpdGxlIHsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgIH0KICAgICAgICB0YWJsZSB7CiAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTsKICAgICAgICAgICAgd2lkdGg6IGF1dG87CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgIH0KICAgICAgICB0aCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7CiAgICAgICAgICAgIGNvbG9yOiBibGFjazsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgIH0KICAgICAgICB0ZCB7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7CiAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICB9CiAgICAgICAgLm5vLWNvbCB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICB9CiAgICAgICAgLnZhcmlhYmxlLWNvbCB7CiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgfQogICAgICAgIC5zdGF0cy1jb2wgewogICAgICAgIH0KICAgICAgICAuZnJlcXMtY29sIHsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgICAgICAgfQogICAgICAgIC5ncmFwaC1jb2wgewogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7CiAgICAgICAgfQogICAgICAgIGltZyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGgxPkFybSBOYW1lOiBoaWdoPC9oMT4KICAgIDxkaXYgY2xhc3M9InN1YnRpdGxlIiBzdHlsZT0idGV4dC1hbGlnbjogbGVmdDsiPgogICAgICAgIEVuZHBvaW50cyAoMik6cGZzLCBvczxicj4KICAgIDwvZGl2PgoKICAgIDx0YWJsZT4KICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0ibm8tY29sIj5ObzwvdGg+CiAgICAgICAgICAgICAgICA8dGggY2xhc3M9InZhcmlhYmxlLWNvbCI+VmFyaWFibGU8L3RoPgogICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJzdGF0cy1jb2wiPlN0YXRzIC8gRnJlcXM8L3RoPgogICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJncmFwaC1jb2wiPkdyYXBoPC90aD4KICAgICAgICAgICAgPC90cj4KICAgICAgICA8L3RoZWFkPgogICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJuby1jb2wiPjE8L3RkPgogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJ2YXJpYWJsZS1jb2wiPnBmczxicj5bdGltZS10by1ldmVudF08L3RkPgogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJzdGF0cy1jb2wiPk1lZGlhbiB0aW1lOiAxMC4wOTxicj5FdmVudHM6IDEwMDAwPGJyPk1pc3Npbmc6IDAgKDAlKTwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImdyYXBoLWNvbCI+PGltZyBzcmM9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSGdBQUFCUUNBSUFBQUJkK1NiZUFBQUFDWEJJV1hNQUFBN0RBQUFPd3dISGI2aGtBQUFJRVVsRVFWUjRuTzJjWFV3VDZSckgzeGxHS0xWUVd1Z1g3bG44V0tta0gxcytqNmFJWUk4ZU9iWVhHcnRpMUN0aXhNVEVyOFE3RXVWR0V5L2t4c1RrYk1pSlIwVE1raFgwSUNBZ3hvL0txZ1ZST2FkMWJWMUxTNnNVTExTRmxrNW5MOWdZenNwMFNqc2RaWnpmRlhUZWVlYmYvMHlmbVhuZjkza2hETU1BUStLQlA3ZUFyd1hHYUlwZ2pLWUlHSVI4N3ZkdVgraHpDNkU3U2JKdnkwRjYwTnIzZENvdlY4UmMzd2tES1MyRUJ4MnVsTzhVcXhEY1JwY3ZYN2JaYkI2UDUrelpzd0FBaDhNeE1qSlNVbEpDbmN5bER5ekoxMVJXVmxhczVZVHdIL1BHeHNic2R2dkZpeGZuL2gwY0hEeDE2aFExK21nREZIYjFYdW53WjJWL285cjhmWVRVNFhBNGlvdUw3WFk3QU1CdXQ1ZVVsTXo5elJBbENDVGNzRU9md2s2Rm90OW54WW9WZ1VEQTdYWm5abVltVGhuTmdBRmdMY3JsT1JRS3hmUG56eE1oaUs3RStKd2hrOGxldm54SnJoUjZFNlBSS3BWcVlHQ0FYQ24wSmthamk0cUtuang1UXE0VWVoT2owWEs1M0dxMStudytjdFhRbUJpTlJoQkVLcFV5YVRwNmtKNUxQNzRPOGJOWTZmTGRmOHROV3NTZTY5ZXZmL1RvRWZOK0dDVXdqOC9uWjBCd1drWTYvak9leFdJWkdocENVWFQraHhzMmJEQVlEQWtYU0Jzd0RNTXdESFhZSENpR2gxNnZWeXFWcWFtcDh6ODBtODFyMXF6QjNZZmgvNEg2ZnZyUFRCb0NBdW5yL3JFK0J6OTF6SDhGLzNpR0pCTEo0T0NnV0N5bTRvcFk0c0JjRG9haUtNWko0eXp5dmdoQlVHbHA2ZjM3OXhNampHNGdxcjl2VjhXNnMxcXRmdkRnd2E1ZHU4aFVSRlBpNnVvdkxTMjlkKzhlV1ZMb1RWeEc1K2ZubTgxbXY5OVBsaG9hRTVmUkNJSW9sVXFqMFVpV0dob1Q3eWdoY3orTWtuaU4xbWcwM2QzZHBFaWhOL0F6bzlIUTl2UDFkcU1ySE12K0d6ZHVOQnFOVEpvbUJQYSsrZVgrLzN5WWIyb3Fwamw0TEJhcnNMQ1F5UjZFUUJpR0FRRENveU11MFRjU25FUlNWbFkyTkRRME16TXpNelB6NmRZelo4NThuSW5BZ0FjOGRMdWpzNnVyMnpTWmpOK3AxTkhSWVRBWStIeitnbHUzYmR0MjY5YXRSQW1rQzdCN0lvU2lLT3I1TUlXZm85bHNOcGZMaGFDRlQ0VktwWEs3M1NNakk0blNTQXVRaWgrMGNZYUFJR2pyMXEwM2I5NnNxYWtoUlJNdElXZTJYVlZWVlZOVEV5bWg2QW81Um0vZXZQblZxMWMybTQyVWFMU0VIS01SQk5GcXRXMXRiYVJFb3lXa1RkVGRzMmZQbFN0WHlJcEdQMGd6dXF5c3pHcTFNdGtERHhpZDlveS9OLzNYUEJtTUwxQlNVcEplcjJkdWlYakFnZC82R3YvMTQ4LzNSdjF4bDhIdDI3ZXZvYUVCWStycEZnVERNR3htZk96WHR4Rkd3WThmUDY3VmFqa2NEdUZZcjBxbHVuUG5Eam5qeHZRQ2RnMzFkZDE5OG1LYUpjQlAxenFkVHFmVHNWZ3N3dE4yOE9EQmhvWUdNaThFdWdEMzljOW1TYkt3WjQrRzhRdXp5c3ZMdFZwdGNuSXlZYmlxcXFyMjluYVh5MFdtUmxvQVlRR1BhMnlhbFNYaVJyVHgwM2tkZUp3NGNRSkYwZnI2ZXRJMDBvTW9VNHpkYnMvT3pvNm1wZFBwek16TWZQdjJiUndKallhUVgxa29Fb21xcTZ2UG56OVBldVFsVFVKS09JOGRPM2JwMGlVbVU4OG5JVWFMeGVMcTZ1cVRKMDhtSXZnU0pWRkZ5YlcxdFoyZG5jUER3d21LditTQVo2Y21wbVlCQ0FiaWZBWC9FeHdPcDdhMjlzQ0JBMythVmYzVkFyZGNlL3J3MnI4N2Z1cnVKOWRwQUE0ZE9wU1Nrc0lVTTgrQnFQTUZpT0t2a3oxUElmekowZGV2WHplYnpRc09nVWNBaHVIbTVtYVZTbFZRVUxCang0NTRsUzV4a0w4b3YzTlB6S3dvVk16aXArc1hMMTZZVEtaUWFOR0xlZ2dFZ3JhMnRzcktTcUZRcUZhcjQxSzYxTG4yejY3SGcwOTdHMjg4bTQzMHZCMzlDOHVuZEhWMUNRU0N1M2Z2eHJZN1BZQkxDK0gzRGhjbUs4N0RYNjhqVHJaczJYTDE2bFc5WHQvYTJwcW9ZM3o1UkhsQzRybWk1eGdZR01qSnlUbDkralNLNG5mSTBoZnFGdmRScVZUOS9mMmRuWjI3ZCs5MnU5MlVIZmNMZ2RKVmxFUWlVVzl2YjA1T2prS2hhR2xwd2I2cXNaZ29yL3o0VThkOERBYURRcUdReStYTnpjM1QwOU5raGYyUytUeEd6OUhhMnFyUmFMS3lzZzRmUHR6ZTNoNEtoY2lOLzBYeHg3UmRRcUx2K0Y4c1ZxdTFxYW5weG8wYlZxdTF2THg4MDZaTnhjWEZTcVV5bWdHZEpVVHNsYk9rOCtiTm01NmVub2NQSC9iMzkxc3NGb2xFc25MbHlxS2lJcWxVdW5idDJ1enNiSkZJeE9Gd0VpY2dvVUFESFRjZFlSaG1mVnRjTHN2RW1TTHRjcmtzRnN2T25UdEhSMGVwa1JVSUJHdzIyK3ZYcng4L2Ztd3ltYXhXcThQaGVQZnVYVGdjNXZQNVhDNVhMQmJETUx4OCtYSTJtNTJXbGdZQTRQRjRNQXh6dVZ3QVFGcGFHb0lnQUFBMm01MlNrZ0lBWUxGWXFhbXBmM3huQ01ySXlDRFVzR3pac3NXZVZ6YWJqVmV3SGRXTS8rM2J0dzhQRDRkQ29jOCtFY252OTQrUGozczhIcWZUaVdHWTErdjErLzFlcnhmRHNBOGZQcUFvT2prNUNRQ1luSnljNnpYMCtYekJZQkFBTUQwOS9iR3ZKaHdPZXp3ZXdtUE56czU2dmQ1RnlWdTFhaFZlNlZTMHFZTWhUaEF1Qi9PaEtMeVlvdnY2K3ZxNnVqb2VqeGU1R1lxaVkyTmpJcEdJTUtEVDZSUUtoVEJNb0dCaVltSitCc0RENy9jSGcwSEM1QkFLaGNiSHg0VkNJYUc4MGRGUnNWaU1WL0R3RWJmYmZlSENoYjE3OXk2NE5aYWlleDZQVjFGUmNlN2N1Y2pOYkRiYi92MzdiOSsrVFJoUXJWWTNOallTTGtkeDlPaFJqVWFqMCtraU4ydHNiRFNaVEhWMWRaR2JtYzNtSTBlT1JGTjlVMUJRME5MU01wZjlJMUJUVXpOM3QxaVFXSHFTeEdLeFZDcGR2WHAxNUdicDZlbDVlWG1FelFBQU1wa3NMeStQOENjaWxVb1ZDZ1ZoUUxsY0RrRVFZYlBrNU9RbzVjbmw4blhyMWhIK2tuSnpjd1VDQWQ3V2FKK2pHZUtFV1RHYUloaWpLWUl4bWlJWW95bUNNWm9pR0tNcGdqR2FJaGlqS1lJeG1pSVlveW1DTVpvaWZnZncxVXVFdjdqcFdRQUFBQUJKUlU1RXJrSmdnZz09IiBhbHQ9IktNIGN1cnZlIj48L3RkPgogICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9Im5vLWNvbCI+MjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InZhcmlhYmxlLWNvbCI+b3M8YnI+W3RpbWUtdG8tZXZlbnRdPC90ZD4KICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0ic3RhdHMtY29sIj5NZWRpYW4gdGltZTogMjAuMTU8YnI+RXZlbnRzOiAxMDAwMDxicj5NaXNzaW5nOiAwICgwJSk8L3RkPgogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJncmFwaC1jb2wiPjxpbWcgc3JjPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUhnQUFBQlFDQU1BQUFEbFJVRzdBQUFDNkZCTVZFVUFBQUFIQndjSkNRa01EQXdPRGc0UER3OFFFQkFSRVJFU0VoSVRFeE1VRkJRVkZSVVdGaFlYRnhjWUdCZ1pHUmthR2hvYkd4c2NIQndkSFIwZ0lDQWlJaUlqSXlNa0pDUW1KaVlwS1NrcUtpb3VMaTR2THk4eU1qSXpNek0xTlRVMk5qWTVPVGs2T2pvOVBUMCtQajQvUHo5Q1FrSkRRME5FUkVSSFIwZEtTa3BMUzB0TVRFeE5UVTFRVUZCU1VsSlRVMU5VVkZSVlZWVldWbFpiVzF0Y1hGeGRYVjFpWW1Ka1pHUmxaV1ZtWm1abloyZG9hR2hxYW1wcmEydHNiR3h0YlcxdWJtNXZiMjl5Y25KMGRIUjFkWFYyZG5aM2QzZDRlSGg1ZVhsNmVucDdlM3Q4Zkh4OWZYMStmbjUvZjMrQWdJQ0RnNE9FaElTRmhZV0ZuTmlHaG9hSGg0ZUlpSWlKaVltS2lhT0tpb3FMaTR1TWpJeU5qWTJQajQrUWtKQ1JrWkdTaW5TU2twS1hsNWVabVptWm5hMmVucDZnb0tDaG9hR2lvcUtqbzZPa29iU2twS1NtcHFhbm5MdW9tcnFvcUtpcHFhbXFtN3FxcXFxcnE2dXJyYTZzckt5dHBidXVxc0N2cjYrdnNzdXZ0YzJ4c2JHeXNyS3pzN08wdExTMXRiVzF0cmEyc01XMnRyYTNwYlMzdDdlM3Z0UzRwS0s0c3NlNHVMaTR1Ym00dTlDNXVicTV2OVc2dXJxN3U3dThvWnU4dkx5OXZiMjl5ZUM5ME9pK3BiTytxYk8vcExLL3Y3L0FyTFhBd01EQTArckJ3Y0hDK2YvRXJaZkV4TVRHc2E3R3hzYkl5TWpKeWNuTDBNM016TXpOczYzTnpjM04wczdPenM3UHVMVFF6YzNSdXJmUisvL1UxTlRWMWRYVzF0YlcyZkhYMTlmWXQ3L1kyTmpaMmRuWi9QL2EydHJiMjl2Yi9QL2QzZDNmL1AvZzRPRGcvUC9pemREaTR1TGs1T1RsNWVYbXpyem01dWJtK3ZMbS9mL241K2ZuL2YvbzBiL281ZWpvNk9qby9mL3A2ZW5yNit2czNPTHM2dXpzL3YvdDZ0anQ3ZTN1N3U3dS92L3Y3Ky92L3YvdzhQRHcrZi94OGZIeTh2THkrdi95Ly8vejZ1eno4L1AwKy8vMTE3RDE5ZlgxOXY3Mjl2YjQrUGo1K2ZuNS8vLzY4dTc2K3ZyNi8vLzcrL3Y3Ly8vODl2RDk1dVA5L2YzKzZiNys3dXorL3Y3LytPNy8rZkgvK2ZqLysvVC8vL2YvLy8rbHZrVjJBQUFBQ1hCSVdYTUFBQTdEQUFBT3d3SEhiNmhrQUFBRERVbEVRVlJvZ2UzWmVWZ01ZUndIOEVXeDJ4MDJOeW5IVXFRdFJaUXp0NXhwSGVWYVY4VG1QaVBKa1dQZFFvNGk5NUV6Y2xWdUluZHVvc2g5NXZldldtYmFkMlpLejZOM2ZvL0gvdjZaL2Y1bTl2bk04Kzd1TzdQdlNBQ3BKQVpZTkRnNzlSa09QSGJycXIwb2NITFlpc2RNQ1BSdEM1QzBSUndZNFBNZEpnUjRHUU1zVVlnRGZ4cTU4Q3Fia3F3QWJrbS9pQUwvZUtHWGNtRW9mMUFVbUVnNnVNbGdKSGlFS3hKOHhob0pCdmt4Sk5nMUVBa2UwRndNZU9tUVNVYzVjSXl0R1BDMkNWTXZNaUVoM0R4M2sybjBVZ1FZNE1ONUppZ3JGZGR0N2RlSkFLK05tSCtLVGIrR0dueTZpQUR2Q3AxN2d3dEgxaEFCSnRKdk9OUDRJUTRNRGlGSXNLbzFFaHhURFFsK0swM0RnY0ZoT25WNDkrWnA1SzJQcnZ4YlVJYzM5cDU4bkEvSHk2bkQrbE9tdlhFeDVtVzVJN1RoUFJHTDJaa3JQYzZTZWRuU256YThPblQyQ1RheFF3M0xhdEtHaVpRSFo4bnU0c0RnRkl3RWoxSWl3V25TZEJ3WUhDY2l3VUZPZE9IM053KzhFb1NmeWxLb3dzOEg5cnduQ0VOVEZWVVl2bDVucDh4V2ppWDBkbTJYZjZRSlgxcTAvaDBUSXRVbSt2dnN3bW5DWTNhc3lWdDhJWVlhaHRlakNYKzdmRDh2a1hDRzJVbUtNSkZJR0RwNklzSFhLUDZpQ29UQnN5c1NIRzk2QVFlR05vMnB3YThmZlJlZU1uVjEyenFLRmp4NjNwd04rY01RWERtTEVuejYzQ0YyS1dLS1Nzbzd3SkhTZjJWSmR1b1RkaEcxVzBNajNnR0pwc3Zwd01SNk5YK29BYUxNRGxPQms4Tld2aWtRaHFIeXN6UmdJZ25DME4xbVB3NE1RZVlhSEJoMlZuUjdnQUpEdXBkMS93d01PT2RHcUg2WlBrWDVKU3MwbkRQZWJpWHQrdTBycWdjV2dpdDcrVlZHU0NNYldSMXY5YWJFditlSmxiMHIwUlovZkVOU2lKKzdyWlhFUkY2bGxyT0h0KzhndFdiY2VLMVdHeDNMcTdnRWdXSXZzOFNLUU4yeXBRdDd3aWtKc1ZxTld0V3VtWWVMc29GQ29haGVsVmNWNUFKVm00V0pvUmF4eUVYVTNBb294VDFMeTBKMExQZ2RLYS9qb0EvelRtV1lFL2R6NmN2cnFKeTVIVDhsdDlQTGhkdnA0VjRndktBOXR4UGVnZHVaMVluYm1kbVoxL0hoZG1ib1g5ci93eWZtQnRnQUcyQUQvTS9CUHdITG5MVlp0N2VvNkFBQUFBQkpSVTVFcmtKZ2dnPT0iIGFsdD0iS00gY3VydmUiPjwvdGQ+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0ibm8tY29sIj4zPC90ZD4KICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0idmFyaWFibGUtY29sIj5wZnNfZXZlbnQ8YnI+W2V2ZW50IGluZGljYXRvcl08L3RkPgogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJzdGF0cy1jb2wiPjE6IDEwMDAwICgxMDAlKTxicj5NaXNzaW5nOiAwICgwJSk8L3RkPgogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJncmFwaC1jb2wiPjxpbWcgc3JjPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUhnQUFBQW9DQU1BQUFBQ05NNFhBQUFBTFZCTVZFV1ptWm1vcUtpcnE2dXRyYTJ3c0xDMnRyYTV1Ym0vdjcvSXlNak56YzNUMDlQZjM5L2w1ZVhyNit2Ly8vL1Qrc1ErQUFBQUNYQklXWE1BQUE3REFBQU93d0hIYjZoa0FBQUFTVWxFUVZSWWhlM1d1UUdBTUJERXdPVUhQOWQvdVM1REJGSURreW9GbFJHb3ZqZWlTMWhZV0ZoWStJL3c5aEtkbVFkVHNQWEI0UGxCY0wrRmhZV0ZoWVdGYVhnOEVNeXdWUXZrVU5wMEhiRUptUUFBQUFCSlJVNUVya0pnZ2c9PSIgYWx0PSJiYXJwbG90IiBzdHlsZT0iaGVpZ2h0OiBhdXRvOyB3aWR0aDogMTIwcHg7Ij48L3RkPgogICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9Im5vLWNvbCI+NDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InZhcmlhYmxlLWNvbCI+b3NfZXZlbnQ8YnI+W2V2ZW50IGluZGljYXRvcl08L3RkPgogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJzdGF0cy1jb2wiPjE6IDEwMDAwICgxMDAlKTxicj5NaXNzaW5nOiAwICgwJSk8L3RkPgogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJncmFwaC1jb2wiPjxpbWcgc3JjPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUhnQUFBQW9DQU1BQUFBQ05NNFhBQUFBTFZCTVZFV1ptWm1vcUtpcnE2dXRyYTJ3c0xDMnRyYTV1Ym0vdjcvSXlNak56YzNUMDlQZjM5L2w1ZVhyNit2Ly8vL1Qrc1ErQUFBQUNYQklXWE1BQUE3REFBQU93d0hIYjZoa0FBQUFTVWxFUVZSWWhlM1d1UUdBTUJERXdPVUhQOWQvdVM1REJGSURreW9GbFJHb3ZqZWlTMWhZV0ZoWStJL3c5aEtkbVFkVHNQWEI0UGxCY0wrRmhZV0ZoWVdGYVhnOEVNeXdWUXZrVU5wMEhiRUptUUFBQUFCSlJVNUVya0pnZ2c9PSIgYWx0PSJiYXJwbG90IiBzdHlsZT0iaGVpZ2h0OiBhdXRvOyB3aWR0aDogMTIwcHg7Ij48L3RkPgogICAgICAgICAgICA8L3RyPgogICAgICAgIDwvdGJvZHk+CiAgICA8L3RhYmxlPgo8L2JvZHk+CjwvaHRtbD4K" width="100%" height="500px" style="border: 1px solid #ccc; border-radius: 4px;">
</iframe>
</div>
<div class="section level2">
<h2 id="define-a-trial">Define a Trial<a class="anchor" aria-label="anchor" href="#define-a-trial"></a>
</h2>
<p>With three arms, we can define a trial using the function
<code><a href="../reference/trial.html">trial()</a></code>. Recruitment curve are specified through
<code>enroller</code> with a built-in function
<code>StaggeredRecruiter</code> of piecewise constant rate. We set
<code>duration</code> to be an arbitrary large number (500) but
controlling the end of trial through a pre-defined milestone later. Note
that if <code>seed = NULL</code>, <code>TrialSimulator</code> will pick
a seed for the purpose of reproducibility.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">accrual_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>end_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>                           piecewise_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">trial</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trial.html">trial</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">'Trial-3415'</span>, n_patients <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1727811904</span>, duration <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  enroller <span class="op">=</span> <span class="va">StaggeredRecruiter</span>, accrual_rate <span class="op">=</span> <span class="va">accrual_rate</span>,</span>
<span>  dropout <span class="op">=</span> <span class="va">rexp</span>, rate <span class="op">=</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">/</span><span class="fl">18</span>, <span class="co">## 10% by month 18</span></span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">trial</span><span class="op">$</span><span class="fu">add_arms</span><span class="op">(</span>sample_ratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="va">soc</span>, <span class="va">low</span>, <span class="va">high</span><span class="op">)</span> <span class="co">## 1:1:1</span></span>
<span><span class="va">trial</span></span>
<span><span class="co">#&gt;  ⚕⚕ Trial Name:  Trial-3415  </span></span>
<span><span class="co">#&gt;  ⚕⚕ Description:  Trial-3415  </span></span>
<span><span class="co">#&gt;  ⚕⚕ # of Arms:  3  </span></span>
<span><span class="co">#&gt;  ⚕⚕ Registered Arms:  soc, low, high  </span></span>
<span><span class="co">#&gt;  ⚕⚕ Sample Ratio:  1, 1, 1  </span></span>
<span><span class="co">#&gt;  ⚕⚕ # of Patients:  1000  </span></span>
<span><span class="co">#&gt;  ⚕⚕ Planned Duration:  500  </span></span>
<span><span class="co">#&gt;  ⚕⚕ Random Seed:  1727811904</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="define-milestone-and-action-for-final-analysis">Define Milestone and Action for Final Analysis<a class="anchor" aria-label="anchor" href="#define-milestone-and-action-for-final-analysis"></a>
</h2>
<p>To ensure sufficient powers of testing <code>PFS</code> and
<code>OS</code>, final analysis is performed when we have at least 700
events for <code>OS</code> and 800 events for <code>PFS</code>. In the
action function, we compute one-sided p-value of <code>PFS</code> using
the proportional hazard Cox model, and one-sided p-value of
<code>OS</code> using the logrank test. This is consistent with the
assumption of ill-death model implemented in data generator
<code><a href="../reference/CorrelatedPfsAndOs3.html">CorrelatedPfsAndOs3()</a></code>. Note that five columns are available
in locked data: <code>arm</code>, <code>pfs</code>, ‘os’, ‘pfs_event’,
and ‘os_event’, which are used to construct model formula. Estimates of
hazard ratio are also computed. Built-in functions <code>fitCoxph</code>
and <code>fitLogrank</code> return data frames. Refer to their help
documants for more details.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">action</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">trial</span>, <span class="va">milestone_name</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">locked_data</span> <span class="op">&lt;-</span> <span class="va">trial</span><span class="op">$</span><span class="fu">get_locked_data</span><span class="op">(</span><span class="va">milestone_name</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">pfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fitCoxph.html">fitCoxph</a></span><span class="op">(</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">pfs</span>, <span class="va">pfs_event</span><span class="op">)</span> <span class="op">~</span> <span class="va">arm</span><span class="op">)</span>, placebo <span class="op">=</span> <span class="st">'soc'</span>, </span>
<span>                  data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'less'</span>, </span>
<span>                  scale <span class="op">=</span> <span class="st">'hazard ratio'</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">os</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fitLogrank.html">fitLogrank</a></span><span class="op">(</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">os</span>, <span class="va">os_event</span><span class="op">)</span> <span class="op">~</span> <span class="va">arm</span><span class="op">)</span>, placebo <span class="op">=</span> <span class="st">'soc'</span>, </span>
<span>                   data <span class="op">=</span> <span class="va">locked_data</span>, alternative <span class="op">=</span> <span class="st">'less'</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co">## Bonferroni test is applied to four hypotheses: </span></span>
<span>  <span class="co">## PFS_low, PFS_high, OS_low, and OS_high</span></span>
<span>  <span class="va">pfs</span><span class="op">$</span><span class="va">decision</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">pfs</span><span class="op">$</span><span class="va">p</span> <span class="op">&lt;</span> <span class="fl">.05</span><span class="op">/</span><span class="fl">4</span>, <span class="st">'reject'</span>, <span class="st">'accept'</span><span class="op">)</span></span>
<span>  <span class="va">os</span><span class="op">$</span><span class="va">decision</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">os</span><span class="op">$</span><span class="va">p</span> <span class="op">&lt;</span> <span class="fl">.05</span><span class="op">/</span><span class="fl">4</span>, <span class="st">'reject'</span>, <span class="st">'accept'</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">trial</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="va">pfs</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">arm</span> <span class="op">==</span> <span class="st">'low'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">estimate</span>, <span class="va">decision</span>, <span class="va">info</span><span class="op">)</span>, </span>
<span>    name <span class="op">=</span> <span class="st">'pfs_low'</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">trial</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="va">pfs</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">arm</span> <span class="op">==</span> <span class="st">'high'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">estimate</span>, <span class="va">decision</span>, <span class="va">info</span><span class="op">)</span>, </span>
<span>    name <span class="op">=</span> <span class="st">'pfs_high'</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">trial</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="va">os</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">arm</span> <span class="op">==</span> <span class="st">'low'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">decision</span>, <span class="va">info</span><span class="op">)</span>, </span>
<span>    name <span class="op">=</span> <span class="st">'os_low'</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">trial</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="va">os</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">arm</span> <span class="op">==</span> <span class="st">'high'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">decision</span>, <span class="va">info</span><span class="op">)</span>, </span>
<span>    name <span class="op">=</span> <span class="st">'os_high'</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<p>Now we can define and register the milestone to a listener, which
monitors the trial for us through a controller</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/milestone.html">milestone</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'final'</span>, action <span class="op">=</span> <span class="va">action</span>, </span>
<span>                   when <span class="op">=</span> <span class="fu"><a href="../reference/eventNumber.html">eventNumber</a></span><span class="op">(</span>endpoint <span class="op">=</span> <span class="st">'pfs'</span>, n <span class="op">=</span> <span class="fl">450</span>, </span>
<span>                                      arms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'soc'</span>, <span class="st">'high'</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> </span>
<span>                     <span class="fu"><a href="../reference/eventNumber.html">eventNumber</a></span><span class="op">(</span>endpoint <span class="op">=</span> <span class="st">'os'</span>, n <span class="op">=</span> <span class="fl">550</span><span class="op">)</span></span>
<span>                   <span class="op">)</span></span>
<span></span>
<span><span class="va">listener</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listener.html">listener</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">listener</span><span class="op">$</span><span class="fu">add_milestones</span><span class="op">(</span><span class="va">final</span><span class="op">)</span></span>
<span><span class="co">#&gt; A milestone &lt;final&gt; is registered.</span></span>
<span></span>
<span><span class="va">controller</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/controller.html">controller</a></span><span class="op">(</span><span class="va">trial</span>, <span class="va">listener</span><span class="op">)</span></span></code></pre></div>
<p>We can run a massive number of replicates in simulation to study
operating characteristics of a trial design by specifying <code>n</code>
in <code>Controller$run()</code>. We can set
<code>plot_event = FALSE</code> to turn off plotting to save running
time. The simulation results can be accessed by calling the member
function <code>get_output()</code> of the controller.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">controller</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, plot_event <span class="op">=</span> <span class="cn">FALSE</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">output</span> <span class="op">&lt;-</span> <span class="va">controller</span><span class="op">$</span><span class="fu">get_output</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">kable</span><span class="op">(</span>escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="st">"striped"</span>, </span>
<span>                full_width <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                position <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">scroll_box</span><span class="op">(</span>width <span class="op">=</span> <span class="st">"100%"</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table table-striped" style="width: auto !important; ">
<thead><tr>
<th style="text-align:left;">
trial
</th>
<th style="text-align:right;">
seed
</th>
<th style="text-align:right;">
milestone_time_&lt;final&gt;
</th>
<th style="text-align:right;">
n_events_&lt;final&gt;_&lt;patient_id&gt;
</th>
<th style="text-align:right;">
n_events_&lt;final&gt;_&lt;pfs&gt;
</th>
<th style="text-align:right;">
n_events_&lt;final&gt;_&lt;os&gt;
</th>
<th style="text-align:left;">
n_events_&lt;final&gt;_&lt;arms&gt;
</th>
<th style="text-align:right;">
pfs_low_&lt;estimate&gt;
</th>
<th style="text-align:left;">
pfs_low_&lt;decision&gt;
</th>
<th style="text-align:right;">
pfs_low_&lt;info&gt;
</th>
<th style="text-align:right;">
pfs_high_&lt;estimate&gt;
</th>
<th style="text-align:left;">
pfs_high_&lt;decision&gt;
</th>
<th style="text-align:right;">
pfs_high_&lt;info&gt;
</th>
<th style="text-align:left;">
os_low_&lt;decision&gt;
</th>
<th style="text-align:right;">
os_low_&lt;info&gt;
</th>
<th style="text-align:left;">
os_high_&lt;decision&gt;
</th>
<th style="text-align:right;">
os_high_&lt;info&gt;
</th>
<th style="text-align:left;">
error_message
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Trial-3415
</td>
<td style="text-align:right;">
1727811904
</td>
<td style="text-align:right;">
39.79807
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
550
</td>
<td style="text-align:left;">
c(334, 2….
</td>
<td style="text-align:right;">
0.8373861
</td>
<td style="text-align:left;">
accept
</td>
<td style="text-align:right;">
490
</td>
<td style="text-align:right;">
0.8470156
</td>
<td style="text-align:left;">
accept
</td>
<td style="text-align:right;">
485
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
372
</td>
<td style="text-align:left;">
accept
</td>
<td style="text-align:right;">
378
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Trial-3415
</td>
<td style="text-align:right;">
1580839845
</td>
<td style="text-align:right;">
36.97289
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
731
</td>
<td style="text-align:right;">
550
</td>
<td style="text-align:left;">
c(334, 2….
</td>
<td style="text-align:right;">
0.8293869
</td>
<td style="text-align:left;">
accept
</td>
<td style="text-align:right;">
504
</td>
<td style="text-align:right;">
0.7566906
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
491
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
383
</td>
<td style="text-align:left;">
accept
</td>
<td style="text-align:right;">
372
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Trial-3415
</td>
<td style="text-align:right;">
1644140445
</td>
<td style="text-align:right;">
35.81142
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
738
</td>
<td style="text-align:right;">
550
</td>
<td style="text-align:left;">
c(334, 2….
</td>
<td style="text-align:right;">
0.7382446
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
498
</td>
<td style="text-align:right;">
0.7208539
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
504
</td>
<td style="text-align:left;">
accept
</td>
<td style="text-align:right;">
368
</td>
<td style="text-align:left;">
accept
</td>
<td style="text-align:right;">
372
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Trial-3415
</td>
<td style="text-align:right;">
157892763
</td>
<td style="text-align:right;">
36.98769
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
732
</td>
<td style="text-align:right;">
550
</td>
<td style="text-align:left;">
c(334, 2….
</td>
<td style="text-align:right;">
0.6802710
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
502
</td>
<td style="text-align:right;">
0.6518396
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
490
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
389
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
380
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Trial-3415
</td>
<td style="text-align:right;">
1672612707
</td>
<td style="text-align:right;">
37.67231
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
745
</td>
<td style="text-align:right;">
550
</td>
<td style="text-align:left;">
c(334, 2….
</td>
<td style="text-align:right;">
0.8062252
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
513
</td>
<td style="text-align:right;">
0.6809993
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
493
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
381
</td>
<td style="text-align:left;">
reject
</td>
<td style="text-align:right;">
374
</td>
<td style="text-align:left;">
</td>
</tr>
</tbody>
</table>
</div>
<p>For example, we can compute the powers and summarize the estimates of
hazard ratio for <code>PFS</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">'_&lt;decision&gt;$'</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">.</span> <span class="op">==</span> <span class="st">'reject'</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, .names <span class="op">=</span> <span class="st">'Power_{.col}'</span><span class="op">)</span>, </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">'_&lt;estimate&gt;$'</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span>, .names <span class="op">=</span> <span class="st">'HR_{.col}'</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename_with</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">'_&lt;decision&gt;$'</span>, <span class="st">''</span>, <span class="va">.</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">'Power_'</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename_with</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">'_&lt;estimate&gt;$'</span>, <span class="st">''</span>, <span class="va">.</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">'HR_'</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">kable</span><span class="op">(</span>col.name <span class="op">=</span> <span class="cn">NULL</span>, digits <span class="op">=</span> <span class="fl">3</span>, align <span class="op">=</span> <span class="st">'r'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">add_header_above</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Low'</span>, <span class="st">'High'</span>, <span class="st">'Low'</span>, <span class="st">'High'</span>, <span class="st">'Low'</span>, <span class="st">'High'</span><span class="op">)</span>, align <span class="op">=</span> <span class="st">'r'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">add_header_above</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'PFS'</span> <span class="op">=</span> <span class="fl">2</span>, <span class="st">'OS'</span> <span class="op">=</span> <span class="fl">2</span>, <span class="st">'PFS'</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">add_header_above</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Power (%)'</span> <span class="op">=</span> <span class="fl">4</span>, <span class="st">'Hazard Ratio'</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Power (%)
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Hazard Ratio
</div>
</th>
</tr>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
PFS
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
OS
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
PFS
</div>
</th>
</tr>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: right; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Low
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: right; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
High
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: right; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Low
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: right; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
High
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: right; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Low
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: right; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
High
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
</th>
<th style="text-align:right;">
</th>
<th style="text-align:right;">
</th>
<th style="text-align:right;">
</th>
<th style="text-align:right;">
</th>
<th style="text-align:right;">
</th>
</tr>
</thead>
<tbody><tr>
<td style="text-align:right;">
69
</td>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
0.785
</td>
<td style="text-align:right;">
0.707
</td>
</tr></tbody>
</table>
<p>Note that <code>OS</code> does not satisfy the proportional hazard
assumption, and a composite condition on event numbers is used to
trigger the final analysis. Thus, the powers in the table above would
not match to the output from power calculation packages, which is as
expected.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Han Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
