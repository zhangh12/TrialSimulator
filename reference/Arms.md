# Class of Arm

Create a class of arm.

Public methods in this R6 class are used in developing this package.
Thus, we have to export the whole R6 class which exposures all public
methods. However, only the public methods in the list below are useful
to end users.

- `$add_endpoints()`

- `$print()`

## Methods

### Public methods

- [`Arms$new()`](#method-Arms-new)

- [`Arms$add_endpoints()`](#method-Arms-add_endpoints)

- [`Arms$get_name()`](#method-Arms-get_name)

- [`Arms$get_number_endpoints()`](#method-Arms-get_number_endpoints)

- [`Arms$has_endpoint()`](#method-Arms-has_endpoint)

- [`Arms$get_endpoints()`](#method-Arms-get_endpoints)

- [`Arms$get_endpoints_name()`](#method-Arms-get_endpoints_name)

- [`Arms$update_endpoint_generator()`](#method-Arms-update_endpoint_generator)

- [`Arms$generate_data()`](#method-Arms-generate_data)

- [`Arms$print()`](#method-Arms-print)

- [`Arms$clone()`](#method-Arms-clone)

------------------------------------------------------------------------

### Method `new()`

initialize an arm

#### Usage

    Arms$new(name, ...)

#### Arguments

- `name`:

  name of arm, which is the arm's label in generated data

- `...`:

  subset condition that is compatible with
  [`dplyr::filter`](https://dplyr.tidyverse.org/reference/filter.html).
  This can be used to specify inclusion criteria of an arm. By default
  it is not specified, i.e. all data generated by the generator will be
  used as trial data. More than one conditions can be specified in
  `...`.

------------------------------------------------------------------------

### Method `add_endpoints()`

add one or multiple endpoints to the arm.

#### Usage

    Arms$add_endpoints(...)

#### Arguments

- `...`:

  one or more objects returned from
  [`endpoint()`](https://zhangh12.github.io/TrialSimulator/reference/endpoint.md).

#### Examples

    a <- arm(name = 'trt')
    x <- endpoint(name = 'x', type = 'tte',
                  generator = rexp) # median = log(2)/1 = 0.7
    y <- endpoint(name = 'y', type = 'non-tte', readout = c(y = 0),
                  generator = rnorm, sd = 1.4, mean = 0.7)

    a$add_endpoints(y, x)

    ## run it in console to see the summary report
    a

    print(a) # use the print method

------------------------------------------------------------------------

### Method `get_name()`

return name of arm.

#### Usage

    Arms$get_name()

------------------------------------------------------------------------

### Method `get_number_endpoints()`

return number of endpoints in the arm.

#### Usage

    Arms$get_number_endpoints()

------------------------------------------------------------------------

### Method `has_endpoint()`

check if the arm has any endpoint. Return `TRUE` or `FALSE`.

#### Usage

    Arms$has_endpoint()

------------------------------------------------------------------------

### Method `get_endpoints()`

return a list of endpoints in the arm.

#### Usage

    Arms$get_endpoints()

------------------------------------------------------------------------

### Method `get_endpoints_name()`

return name of endpoints registered to the arm.

#### Usage

    Arms$get_endpoints_name()

------------------------------------------------------------------------

### Method `update_endpoint_generator()`

update generator of an endpoint object

#### Usage

    Arms$update_endpoint_generator(endpoint_name, generator, ...)

#### Arguments

- `endpoint_name`:

  character. A vector of endpoint names whose generator is updated.

- `generator`:

  a random number generation (RNG) function. See `generator` of
  [`endpoint()`](https://zhangh12.github.io/TrialSimulator/reference/endpoint.md).

- `...`:

  optional arguments for `generator`.

------------------------------------------------------------------------

### Method `generate_data()`

generate arm data.

#### Usage

    Arms$generate_data(n_patients_in_arm)

#### Arguments

- `n_patients_in_arm`:

  integer. Number of patients randomized to the arm.

------------------------------------------------------------------------

### Method [`print()`](https://rdrr.io/r/base/print.html)

print an arm.

#### Usage

    Arms$print(categorical_vars = NULL)

#### Arguments

- `categorical_vars`:

  character vector of categorical variables. This can be used to specify
  variables with limited distinct (numeric) values as categorical
  variables in summary report.

------------------------------------------------------------------------

### Method `clone()`

The objects of this class are cloneable with this method.

#### Usage

    Arms$clone(deep = FALSE)

#### Arguments

- `deep`:

  Whether to make a deep clone.

## Examples

``` r
# Instead of using Arms$new(), please use arm(), a user-friendly
# wrapper. See examples in ?arm


## ------------------------------------------------
## Method `Arms$add_endpoints`
## ------------------------------------------------


a <- arm(name = 'trt')
x <- endpoint(name = 'x', type = 'tte',
              generator = rexp) # median = log(2)/1 = 0.7
y <- endpoint(name = 'y', type = 'non-tte', readout = c(y = 0),
              generator = rnorm, sd = 1.4, mean = 0.7)

a$add_endpoints(y, x)

## run it in console to see the summary report
a
#> Summary generated.

print(a) # use the print method
#> Summary generated.
```
