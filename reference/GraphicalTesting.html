<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Class of GraphicalTesting — GraphicalTesting • TrialSimulator</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class of GraphicalTesting — GraphicalTesting"><meta name="description" content="Perform graphical testing under group sequential design for one or multiple
endpoints. See Maurer &amp;amp; Bretz (2013)."><meta property="og:description" content="Perform graphical testing under group sequential design for one or multiple
endpoints. See Maurer &amp;amp; Bretz (2013)."><meta property="og:image" content="https://zhangh12.github.io/TrialSimulator/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TrialSimulator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.53.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/adaptiveDesign.html">An Example of Simulating a Trial with Adaptive Design</a></li>
    <li><a class="dropdown-item" href="../articles/comparisons.html">Comparisons with graphicalMCP and gMCP</a></li>
    <li><a class="dropdown-item" href="../articles/conditionSystem.html">Condition System for Triggering Events in a Trial</a></li>
    <li><a class="dropdown-item" href="../articles/defineNonTimeToEventEndpoints.html">Define Non-Time-to-Event Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/defineTimeToEventEndpoints.html">Define Time-to-Event Endpoints in Clinical Trials</a></li>
    <li><a class="dropdown-item" href="../articles/designDocument.html">Modular Clinical Trial Simulation: Overview of Core Functions and Workflow</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Class of GraphicalTesting</h1>

      <div class="d-none name"><code>GraphicalTesting.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Perform graphical testing under group sequential design for one or multiple
endpoints. See Maurer &amp; Bretz (2013).</p>
    </div>


    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-GraphicalTestingProcedure-new"><code>GraphicalTesting$new()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-reset"><code>GraphicalTesting$reset()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-is_valid_hid"><code>GraphicalTesting$is_valid_hid()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_hypothesis_name"><code>GraphicalTesting$get_hypothesis_name()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_weight"><code>GraphicalTesting$get_weight()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-set_weight"><code>GraphicalTesting$set_weight()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_alpha"><code>GraphicalTesting$get_alpha()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-set_alpha"><code>GraphicalTesting$set_alpha()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_hypotheses_ids"><code>GraphicalTesting$get_hypotheses_ids()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_number_hypotheses"><code>GraphicalTesting$get_number_hypotheses()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_hids_not_in_graph"><code>GraphicalTesting$get_hids_not_in_graph()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_testable_hypotheses"><code>GraphicalTesting$get_testable_hypotheses()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-has_testable_hypotheses"><code>GraphicalTesting$has_testable_hypotheses()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-is_in_graph"><code>GraphicalTesting$is_in_graph()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-is_testable"><code>GraphicalTesting$is_testable()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_hid"><code>GraphicalTesting$get_hid()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-reject_a_hypothesis"><code>GraphicalTesting$reject_a_hypothesis()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-set_trajectory"><code>GraphicalTesting$set_trajectory()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_trajectory"><code>GraphicalTesting$get_trajectory()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-test_hypotheses"><code>GraphicalTesting$test_hypotheses()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-test"><code>GraphicalTesting$test()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_current_testing_results"><code>GraphicalTesting$get_current_testing_results()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-get_current_decision"><code>GraphicalTesting$get_current_decision()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-print"><code>GraphicalTesting$print()</code></a></p></li>
<li><p><a href="#method-GraphicalTestingProcedure-clone"><code>GraphicalTesting$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-GraphicalTestingProcedure-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initialize an object for graphical testing procedure.
Group sequential design is also supported.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/GraphicalTesting.html">GraphicalTesting</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">alpha</span>,</span>
<span>  <span class="va">transition</span>,</span>
<span>  <span class="va">alpha_spending</span>,</span>
<span>  <span class="va">planned_max_info</span>,</span>
<span>  hypotheses <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>alpha</code></dt>
<dd><p>initial alpha allocated to each of the hypotheses.</p></dd>


<dt><code>transition</code></dt>
<dd><p>matrix of transition weights. Its diagonals should
be all 0s. The row sums should be 1s (for better power) or
0s (if no outbound edge from a node).</p></dd>


<dt><code>alpha_spending</code></dt>
<dd><p>character vector of same length of <code>alpha</code>.
Currently it supports <code>'asP'</code>, <code>'asOF'</code>, and <code>'asUser'</code>.</p></dd>


<dt><code>planned_max_info</code></dt>
<dd><p>vector of integers. Maximum numbers of
events (tte endpoints) or patients (non-tte endpoints) at the final
analysis of each hypothesis when planning a trial. The actual numbers
could be different, which can be specified elsewhere.</p></dd>


<dt><code>hypotheses</code></dt>
<dd><p>vector of characters. Names of hypotheses.</p></dd>


<dt><code>silent</code></dt>
<dd><p><code>TRUE</code> if muting all messages and not generating
plots.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-reset"></a><div class="section">
<h3 id="method-reset-">Method <code>reset()</code><a class="anchor" aria-label="anchor" href="#method-reset-"></a></h3>
<p>reset an object of class <code>GraphicalTesting</code> to original status
so that it can be reused.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-GraphicalTestingProcedure-is_valid_hid"></a><div class="section">
<h3 id="method-is-valid-hid-">Method <code>is_valid_hid()</code><a class="anchor" aria-label="anchor" href="#method-is-valid-hid-"></a></h3>
<p>determine if index of a hypothesis is valid</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">is_valid_hid</span><span class="op">(</span><span class="va">hid</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hid</code></dt>
<dd><p>an integer</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_hypothesis_name"></a><div class="section">
<h3 id="method-get-hypothesis-name-">Method <code>get_hypothesis_name()</code><a class="anchor" aria-label="anchor" href="#method-get-hypothesis-name-"></a></h3>
<p>get name of a hypothesis given its index.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_hypothesis_name</span><span class="op">(</span><span class="va">hid</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hid</code></dt>
<dd><p>an integer</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_weight"></a><div class="section">
<h3 id="method-get-weight-">Method <code>get_weight()</code><a class="anchor" aria-label="anchor" href="#method-get-weight-"></a></h3>
<p>return weight between two nodes</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_weight</span><span class="op">(</span><span class="va">hid1</span>, <span class="va">hid2</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hid1</code></dt>
<dd><p>an integer</p></dd>


<dt><code>hid2</code></dt>
<dd><p>an integer</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-set_weight"></a><div class="section">
<h3 id="method-set-weight-">Method <code>set_weight()</code><a class="anchor" aria-label="anchor" href="#method-set-weight-"></a></h3>
<p>update weight between two nodes</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">set_weight</span><span class="op">(</span><span class="va">hid1</span>, <span class="va">hid2</span>, <span class="va">value</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hid1</code></dt>
<dd><p>an integer</p></dd>


<dt><code>hid2</code></dt>
<dd><p>an integer</p></dd>


<dt><code>value</code></dt>
<dd><p>numeric value to be set as a weight two nodes</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_alpha"></a><div class="section">
<h3 id="method-get-alpha-">Method <code>get_alpha()</code><a class="anchor" aria-label="anchor" href="#method-get-alpha-"></a></h3>
<p>return alpha allocated to a hypothesis when calling this function.
Note that a function can be called several time with the graph is
updated dynamically. Thus, returned alpha can be different even for
the same <code>hid</code>.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_alpha</span><span class="op">(</span><span class="va">hid</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hid</code></dt>
<dd><p>an integer</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-set_alpha"></a><div class="section">
<h3 id="method-set-alpha-">Method <code>set_alpha()</code><a class="anchor" aria-label="anchor" href="#method-set-alpha-"></a></h3>
<p>update alpha of a hypothesis</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">set_alpha</span><span class="op">(</span><span class="va">hid</span>, <span class="va">value</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hid</code></dt>
<dd><p>integer. Index of a hypothesis</p></dd>


<dt><code>value</code></dt>
<dd><p>numeric value to be allocated</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_hypotheses_ids"></a><div class="section">
<h3 id="method-get-hypotheses-ids-">Method <code>get_hypotheses_ids()</code><a class="anchor" aria-label="anchor" href="#method-get-hypotheses-ids-"></a></h3>
<p>return all valid <code>hid</code></p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_hypotheses_ids</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_number_hypotheses"></a><div class="section">
<h3 id="method-get-number-hypotheses-">Method <code>get_number_hypotheses()</code><a class="anchor" aria-label="anchor" href="#method-get-number-hypotheses-"></a></h3>
<p>return number of hypotheses, including those been rejected.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_number_hypotheses</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_hids_not_in_graph"></a><div class="section">
<h3 id="method-get-hids-not-in-graph-">Method <code>get_hids_not_in_graph()</code><a class="anchor" aria-label="anchor" href="#method-get-hids-not-in-graph-"></a></h3>
<p>return index of hypotheses that are rejected.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_hids_not_in_graph</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_testable_hypotheses"></a><div class="section">
<h3 id="method-get-testable-hypotheses-">Method <code>get_testable_hypotheses()</code><a class="anchor" aria-label="anchor" href="#method-get-testable-hypotheses-"></a></h3>
<p>return index of hypotheses with non-zero alphas, thus can be tested
at the current stage.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_testable_hypotheses</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-GraphicalTestingProcedure-has_testable_hypotheses"></a><div class="section">
<h3 id="method-has-testable-hypotheses-">Method <code>has_testable_hypotheses()</code><a class="anchor" aria-label="anchor" href="#method-has-testable-hypotheses-"></a></h3>
<p>determine whether at least one hypothesis is testable.
If return <code>FALSE</code>, the testing procedure is completed.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">has_testable_hypotheses</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-GraphicalTestingProcedure-is_in_graph"></a><div class="section">
<h3 id="method-is-in-graph-">Method <code>is_in_graph()</code><a class="anchor" aria-label="anchor" href="#method-is-in-graph-"></a></h3>
<p>determine whether a hypothesis is not yet rejected (in graph).</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">is_in_graph</span><span class="op">(</span><span class="va">hid</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hid</code></dt>
<dd><p>integer. Index of a hypothesis</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-is_testable"></a><div class="section">
<h3 id="method-is-testable-">Method <code>is_testable()</code><a class="anchor" aria-label="anchor" href="#method-is-testable-"></a></h3>
<p>determine whether a hypothesis has a non-zero alpha allocated.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">is_testable</span><span class="op">(</span><span class="va">hid</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hid</code></dt>
<dd><p>integer. Index of a hypothesis</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_hid"></a><div class="section">
<h3 id="method-get-hid-">Method <code>get_hid()</code><a class="anchor" aria-label="anchor" href="#method-get-hid-"></a></h3>
<p>convert hypothesis's name into (unique) index.</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_hid</span><span class="op">(</span><span class="va">hypothesis</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hypothesis</code></dt>
<dd><p>character. Name of a hypothesis. It is different from
<code>hid</code>, which is an index.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-reject_a_hypothesis"></a><div class="section">
<h3 id="method-reject-a-hypothesis-">Method <code>reject_a_hypothesis()</code><a class="anchor" aria-label="anchor" href="#method-reject-a-hypothesis-"></a></h3>
<p>remove a node from graph when a hypothesis is rejected</p><div class="section">
<h4 id="usage-16">Usage<a class="anchor" aria-label="anchor" href="#usage-16"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">reject_a_hypothesis</span><span class="op">(</span><span class="va">hypothesis</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>hypothesis</code></dt>
<dd><p>name of a hypothesis. It is different from
<code>hid</code>, which is an index.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-set_trajectory"></a><div class="section">
<h3 id="method-set-trajectory-">Method <code>set_trajectory()</code><a class="anchor" aria-label="anchor" href="#method-set-trajectory-"></a></h3>
<p>save new testing results at current stage</p><div class="section">
<h4 id="usage-17">Usage<a class="anchor" aria-label="anchor" href="#usage-17"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">set_trajectory</span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>result</code></dt>
<dd><p>a data frame of specific columns.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_trajectory"></a><div class="section">
<h3 id="method-get-trajectory-">Method <code>get_trajectory()</code><a class="anchor" aria-label="anchor" href="#method-get-trajectory-"></a></h3>
<p>return testing results by the time this function is called.
Note that graphical test is carried out in a sequential manner.
Users may want to review the results anytime. Value returned
by this function can possibly vary over time.</p><div class="section">
<h4 id="usage-18">Usage<a class="anchor" aria-label="anchor" href="#usage-18"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_trajectory</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-GraphicalTestingProcedure-test_hypotheses"></a><div class="section">
<h3 id="method-test-hypotheses-">Method <code>test_hypotheses()</code><a class="anchor" aria-label="anchor" href="#method-test-hypotheses-"></a></h3>
<p>test hypotheses using p-values (and other information in <code>stats</code>)
base on the current graph. All rows should have the same order
number.</p><div class="section">
<h4 id="usage-19">Usage<a class="anchor" aria-label="anchor" href="#usage-19"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">test_hypotheses</span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>stats</code></dt>
<dd><p>a data frame. It must contain the following columns:</p><dl><dt><code>order</code></dt>
<dd><p>integer. P-values (among others) of hypotheses that
can be tested at the same time (e.g., an interim, or final analysis)
should be labeled with the same order number.
If a hypothesis is not tested at a stage,
simply don't put it in <code>stats</code> with that order number.</p></dd>

<dt><code>hypotheses</code></dt>
<dd><p>character. Name of hypotheses to be tested. They
should be identical to those when calling <code>GraphicalTesting$new</code>.</p></dd>

<dt><code>p</code></dt>
<dd><p>nominal p-values.</p></dd>

<dt><code>info</code></dt>
<dd><p>observed number of events or samples at test. These will
be used to compute information fractions in group sequential design.</p></dd>

<dt><code>max_info</code></dt>
<dd><p>integers. Maximum information at test. At interim,
<code>max_info</code> should be equal to <code>planned_max_info</code> when
calling <code>GraphicalTesting$new</code>. At the final stage of a
hypothesis, one can update it with observed numbers.</p></dd>


</dl></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-test"></a><div class="section">
<h3 id="method-test-">Method <code>test()</code><a class="anchor" aria-label="anchor" href="#method-test-"></a></h3>
<p>test hypotheses using p-values (and other information in <code>stats</code>)
base on the current graph. Users can call this function multiple times.
P-values of the same order should be passed through <code>stats</code>
together. P-values of multiple orders can be passed together as well.
For example, if users only have p-values at current stage, they can call
this function and update the graph accordingly. In this case, column
<code>order</code> in <code>stats</code> is a constant. They can call this
function again when p-values of next stage is available, where
<code>order</code> is another integer. In simulation, if p-values of all
stages are on hand, users can call this function to
test them all in a single pass. In this case, column <code>order</code> in
<code>stats</code> can have different values.</p><div class="section">
<h4 id="usage-20">Usage<a class="anchor" aria-label="anchor" href="#usage-20"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">test</span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>stats</code></dt>
<dd><p>a data frame. It must contain the following columns:</p><dl><dt><code>order</code></dt>
<dd><p>integer. P-values (among others) of hypotheses that
can be tested at the same time (e.g., an interim, or final analysis)
should be labeled with the same order number.
If a hypothesis is not tested at a stage,
simply don't put it in <code>stats</code> with that order number.
If all p-values in <code>stats</code> are tested at the same stage, <code>order</code>
can be absent.</p></dd>

<dt><code>hypotheses</code></dt>
<dd><p>character. Name of hypotheses to be tested. They
should be identical to those when calling
<code>GraphicalTesting$new</code>.</p></dd>

<dt><code>p</code></dt>
<dd><p>nominal p-values.</p></dd>

<dt><code>info</code></dt>
<dd><p>observed number of events or samples at test. These will
be used to compute information fractions in group sequential design.</p></dd>

<dt><code>max_info</code></dt>
<dd><p>integers. Maximum information at test. At interim,
<code>max_info</code> should be equal to <code>planned_max_info</code> when
calling <code>GraphicalTesting$new</code>. At the final stage of a
hypothesis, one can update it with observed numbers.</p></dd>

<dt><code>alpha_spent</code></dt>
<dd><p>accumulative proportion of allocated alpha
to be spent if <code>alpha_spending = "asUser"</code>. Set it to
<code>NA_real_</code> otherwise. If no hypothesis uses <code>"asUser"</code> in
<code>stats</code>, this column could be ignored.</p></dd>


</dl></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>a data frame returned by <code>get_current_testing_results</code>.
It contains details of each of the testing steps.</p>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_current_testing_results"></a><div class="section">
<h3 id="method-get-current-testing-results-">Method <code>get_current_testing_results()</code><a class="anchor" aria-label="anchor" href="#method-get-current-testing-results-"></a></h3>
<p>return testing results with details by the time this function
is called. This function can be called by users by multiple
times, thus the returned value varies over time.
This function is called by <code>GraphicalTesting::test</code>,
and returns a data frame consisting of columns</p><dl><dt><code>hypothesis</code></dt>
<dd><p>name of hypotheses.</p></dd>

<dt><code>obs_p_value</code></dt>
<dd><p>observed p-values.</p></dd>

<dt><code>max_allocated_alpha</code></dt>
<dd><p>maximum allocated alpha for the hypothesis.</p></dd>

<dt><code>decision</code></dt>
<dd><p><code>'reject'</code> or <code>'accept'</code> the hypotheses.</p></dd>

<dt><code>stages</code></dt>
<dd><p>stage of a hypothesis.</p></dd>

<dt><code>order</code></dt>
<dd><p>order number that this hypothesis is tested for the last time.
It is different from <code>stages</code>.</p></dd>

<dt><code>typeOfDesign</code></dt>
<dd><p>name of alpha spending functions.</p></dd>


</dl><div class="section">
<h4 id="usage-21">Usage<a class="anchor" aria-label="anchor" href="#usage-21"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_current_testing_results</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-GraphicalTestingProcedure-get_current_decision"></a><div class="section">
<h3 id="method-get-current-decision-">Method <code>get_current_decision()</code><a class="anchor" aria-label="anchor" href="#method-get-current-decision-"></a></h3>
<p>get current decisions for all hypotheses. Returned value could
changes over time because it depends on the stages being tested already.</p><div class="section">
<h4 id="usage-22">Usage<a class="anchor" aria-label="anchor" href="#usage-22"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">get_current_decision</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>a named vector of values <code>"accept"</code> or <code>"reject"</code>.
Note that if a hypothesis is not yet tested when calling this function,
the decision for that hypothesis would be <code>"accept"</code>.</p>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>generic function for <code>print</code></p><div class="section">
<h4 id="usage-23">Usage<a class="anchor" aria-label="anchor" href="#usage-23"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span>graph <span class="op">=</span> <span class="cn">TRUE</span>, trajectory <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>graph</code></dt>
<dd><p>logic. <code>TRUE</code> if visualizing the current graph,
which can vary over time.</p></dd>


<dt><code>trajectory</code></dt>
<dd><p>logic. <code>TRUE</code> if print the current data frame of
trajectory, which can vary over time.</p></dd>


<dt><code>...</code></dt>
<dd><p>other arguments supported in <code><a href="https://merck.github.io/gMCPLite/reference/hGraph.html" class="external-link">gMCPLite::hGraph</a></code>,
e.g., <code>trhw</code> and <code>trhh</code> to control the size of transition box,
and <code>trdigits</code> to control the digits displayed for transition
weights.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-GraphicalTestingProcedure-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-24">Usage<a class="anchor" aria-label="anchor" href="#usage-24"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-15">Arguments<a class="anchor" aria-label="anchor" href="#arguments-15"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 1</span></span></span>
<span class="r-in"><span><span class="co">## dry-run to study the behavior of a graph</span></span></span>
<span class="r-in"><span><span class="co">## without group sequential design</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">eps</span> <span class="op">&lt;-</span> <span class="fl">.01</span></span></span>
<span class="r-in"><span><span class="va">alpha</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.01</span>, <span class="fl">.04</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">transition</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">.75</span>, <span class="fl">0</span>, <span class="fl">.25</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">-</span><span class="va">eps</span><span class="op">/</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="va">eps</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">-</span><span class="va">eps</span><span class="op">/</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">5</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## dummy can be anything, we don't actually use it</span></span></span>
<span class="r-in"><span><span class="va">asf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">'asOF'</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## dummy can be anything, we don't actually use it</span></span></span>
<span class="r-in"><span><span class="va">max_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">1100</span>, <span class="fl">1100</span>, <span class="fl">1100</span>, <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">hs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'H1: UPCR IgA'</span>, <span class="st">'H2: eGFR GN'</span>, <span class="st">'H3: eGFR GN 10wk'</span>, <span class="st">'H5: 2nd Endpoints'</span>, <span class="st">'H4: eGFR IgA'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## initialize an object</span></span></span>
<span class="r-in"><span><span class="va">gt</span> <span class="op">&lt;-</span> <span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">alpha</span>, <span class="va">transition</span>, <span class="va">asf</span>, <span class="va">max_info</span>, <span class="va">hs</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## reject hypotheses based on customized order</span></span></span>
<span class="r-in"><span><span class="co">## to understand the behavior of a testing strategy</span></span></span>
<span class="r-in"><span><span class="co">## Any other rejection order is possible</span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">reject_a_hypothesis</span><span class="op">(</span><span class="st">'H1: UPCR IgA'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">reject_a_hypothesis</span><span class="op">(</span><span class="st">'H2: eGFR GN'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">reject_a_hypothesis</span><span class="op">(</span><span class="st">'H4: eGFR IgA'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">reject_a_hypothesis</span><span class="op">(</span><span class="st">'H3: eGFR GN 10wk'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 2</span></span></span>
<span class="r-in"><span><span class="co">## Example modified from vignettes in gMCPLite:</span></span></span>
<span class="r-in"><span><span class="co">## Graphical testing for group sequential design</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## initial alpha split to each of the hypotheses</span></span></span>
<span class="r-in"><span><span class="va">alpha</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.01</span>, <span class="fl">.01</span>, <span class="fl">.004</span>, <span class="fl">.0</span>, <span class="fl">.0005</span>, <span class="fl">.0005</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## transition matrix of the initial graph</span></span></span>
<span class="r-in"><span><span class="va">transition</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">.5</span>, <span class="fl">.5</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">.5</span>, <span class="fl">.5</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="fl">.5</span>, <span class="fl">.5</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">6</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## alpha spending functions per hypothesis</span></span></span>
<span class="r-in"><span><span class="va">asf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'asUser'</span>, <span class="st">'asOF'</span>, <span class="st">'asUser'</span>, <span class="st">'asOF'</span>, <span class="st">'asOF'</span>, <span class="st">'asOF'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## planned maximum number of events per hypothesis</span></span></span>
<span class="r-in"><span><span class="va">max_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">295</span>, <span class="fl">800</span>, <span class="fl">310</span>, <span class="fl">750</span>, <span class="fl">500</span>, <span class="fl">1100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## name of hypotheses</span></span></span>
<span class="r-in"><span><span class="va">hs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'H1: OS sub'</span>,</span></span>
<span class="r-in"><span>        <span class="st">'H2: OS all'</span>,</span></span>
<span class="r-in"><span>        <span class="st">'H3: PFS sub'</span>,</span></span>
<span class="r-in"><span>        <span class="st">'H4: PFS all'</span>,</span></span>
<span class="r-in"><span>        <span class="st">'H5: ORR sub'</span>,</span></span>
<span class="r-in"><span>        <span class="st">'H6: ORR all'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">gt</span> <span class="op">&lt;-</span> <span class="va">GraphicalTesting</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">alpha</span>, <span class="va">transition</span>, <span class="va">asf</span>, <span class="va">max_info</span>, <span class="va">hs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## print initial graph</span></span></span>
<span class="r-in"><span><span class="va">gt</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## nominal p-values at each stage</span></span></span>
<span class="r-in"><span><span class="co">## Note: p-values with same order are calculated with the same locked data</span></span></span>
<span class="r-in"><span><span class="co">## Note: alpha_spent is only specified for hypotheses using custom alpha</span></span></span>
<span class="r-in"><span><span class="co">##       spending function "asUser"</span></span></span>
<span class="r-in"><span><span class="va">stats</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    hypotheses <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">'H1: OS sub'</span>,<span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">'H2: OS all'</span>,<span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">'H5: ORR sub'</span>, <span class="st">'H6: ORR all'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.03</span>, <span class="fl">.0001</span>, <span class="fl">.000001</span>, <span class="fl">.2</span>, <span class="fl">.15</span>, <span class="fl">.1</span>, <span class="fl">.2</span>, <span class="fl">.001</span>, <span class="fl">.3</span>, <span class="fl">.2</span>, <span class="fl">.00001</span>, <span class="fl">.1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">185</span>, <span class="fl">245</span>, <span class="fl">295</span>, <span class="fl">529</span>, <span class="fl">700</span>, <span class="fl">800</span>, <span class="fl">265</span>, <span class="fl">310</span>, <span class="fl">675</span>, <span class="fl">750</span>, <span class="fl">490</span>, <span class="fl">990</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    is_final <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">F</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">T</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    max_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">295</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">310</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">750</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fl">490</span>, <span class="fl">990</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    alpha_spent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.4</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.3</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## test the p-values from the first analysis, plot the updated graph</span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">test</span><span class="op">(</span><span class="va">stats</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">order</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## test the p-values from the second analysis, plot the updated graph</span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">test</span><span class="op">(</span><span class="va">stats</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">order</span><span class="op">==</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## test the p-values from the third analysis, plot the updated graph</span></span></span>
<span class="r-in"><span><span class="co">## because no futher test would be done, displayed results are final</span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">test</span><span class="op">(</span><span class="va">stats</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">order</span><span class="op">==</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## plot the final status of the graph</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gt</span>, trajectory <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## you can get final testing results as follow</span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">get_current_testing_results</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## if you want to see step-by-step details</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gt</span><span class="op">$</span><span class="fu">get_trajectory</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## equivalently, you can call gt$test(stats) for only once to get same results.</span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">test</span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## if you only want to get the final testing results</span></span></span>
<span class="r-in"><span><span class="va">gt</span><span class="op">$</span><span class="fu">get_current_decision</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Han Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

